{% extends "base.html" %}
{% load static %}
{% block title %}{{ event.name }} | Event Details{% endblock %}

{% block content %}
<section class="py-12 bg-gray-50">
  <div class="max-w-5xl mx-auto px-6">

    {% if event %}
    <!-- Main Event Card -->
    <div class="bg-white rounded-xl shadow-md overflow-hidden">
      <img src="{% static 'images/default.jpeg' %}" 
           alt="{{ event.name }}" 
           class="w-full sm:w-1/2 h-64 object-cover rounded-t-lg mx-auto sm:rounded-lg shadow-md mb-6">

      <div class="p-8">
        <!-- Event Title -->
        <h1 class="text-3xl font-bold text-gray-900 mb-3">{{ event.name }}</h1>

        <!-- Event Info -->
        <div class="text-gray-600 mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between">
          <p class="mb-2 sm:mb-0">
            <span class="font-semibold text-gray-800">{{ event.location }}</span> â€¢
            <span>{{ event.date|date:"M d, Y" }} at {{ event.time|time:"g:i a" }}</span>
          </p>
          <span class="inline-flex items-center bg-blue-100 text-blue-700 text-sm font-medium px-3 py-1 rounded-full">
            {{ event.category.name }}
          </span>
        </div>

        <!-- Description -->
        <p class="text-gray-700 leading-relaxed mb-6">
          {{ event.description|default:"No description available." }}
        </p>

        <!-- Participants -->
        <div class="mt-8">
          <h2 class="text-xl font-semibold mb-3 text-gray-800">Participants</h2>
          {% if event.participants.exists %}
          <ul class="grid sm:grid-cols-2 md:grid-cols-3 gap-3">
            {% for participant in event.participants.all %}
            <li class="bg-gray-100 p-3 rounded-lg flex items-center gap-3">
              <div class="bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold">
                {{ participant.name|slice:":1" }}
              </div>
              <div>
                <p class="font-medium text-gray-800">{{ participant.name }}</p>
                <p class="text-sm text-gray-500">{{ participant.email }}</p>
              </div>
            </li>
            {% endfor %}
          </ul>
          {% else %}
          <p class="text-gray-500">No participants registered yet.</p>
          {% endif %}
        </div>
      </div>
    </div>
    {% else %}
    <p class="text-center text-gray-500">Event not found.</p>
    {% endif %}

  </div>
</section>
{% endblock %}
